{
  "i18n": true,
  "type": "tabs",
  "items": {
    "main": {
      "type": "panel",
      "label": {
        "en": "Stations",
        "de": "Stationen"
      },
      "items": {
        "interval": {
          "type": "number",
          "label": {
            "en": "Polling interval (minutes)",
            "de": "Polling-Intervall (Minuten)"
          },
          "min": 1,
          "max": 1440,
          "default": 5
        },
        "stations": {
          "type": "table",
          "label": {
            "en": "Stations",
            "de": "Stationen"
          },
          "items": [
            {
              "type": "checkbox",
              "attr": "enabled",
              "title": {
                "en": "Enabled",
                "de": "Aktiv"
              },
              "width": 70,
              "default": true
            },
            {
              "type": "checkbox",
              "attr": "notifyOnAvailable",
              "title": {
                "en": "Notify",
                "de": "Notify"
              },
              "width": 70,
              "default": false
            },
            {
              "type": "text",
              "attr": "name",
              "title": {
                "en": "Name",
                "de": "Name"
              },
              "width": 240
            },
            {
              "type": "number",
              "attr": "deviceId1",
              "title": {
                "en": "Device ID (P1)",
                "de": "Device ID (P1)"
              },
              "width": 160
            },
            {
              "type": "number",
              "attr": "deviceId2",
              "title": {
                "en": "Device ID (P2, optional)",
                "de": "Device ID (P2, optional)"
              },
              "width": 180
            }
          ],
          "addRow": true,
          "deleteRow": true
        }
      }
    },
    "communication": {
      "type": "panel",
      "label": {
        "en": "Communication",
        "de": "Kommunikation"
      },
      "items": {
        "_hint": {
          "type": "staticText",
          "text": {
            "en": "Each row is one notification channel. Choose adapter (Telegram / WhatsApp-CMB / Pushover) and instance number. Telegram: Recipient optional (alias). WhatsApp-CMB: Recipient is phone number (+49...). Pushover: Recipient is ignored (adapter config is used). Test per row.",
            "de": "Jede Zeile ist ein Benachrichtigungskanal. Wähle Adapter (Telegram / WhatsApp-CMB / Pushover) und Instanznummer. Telegram: Empfänger optional (Alias). WhatsApp-CMB: Empfänger = Telefonnummer (+49...). Pushover: Empfänger wird ignoriert (Einstellungen im Pushover-Adapter). Test pro Zeile."
          }
        },
        "channels": {
          "type": "table",
          "label": {
            "en": "Channels",
            "de": "Kanäle"
          },
          "items": [
            {
              "type": "checkbox",
              "attr": "enabled",
              "title": {
                "en": "Enabled",
                "de": "Aktiv"
              },
              "width": 70,
              "default": true
            },
            {
              "type": "adapter",
              "attr": "adapter",
              "title": {
                "en": "Adapter",
                "de": "Adapter"
              },
              "onlyEnabled": true,
              "filter": "^(telegram|whatsapp-cmb|pushover)$",
              "width": 170
            },
            {
              "type": "number",
              "attr": "instanceNr",
              "title": {
                "en": "Inst",
                "de": "Inst"
              },
              "min": 0,
              "default": 0,
              "width": 70
            },
            {
              "type": "text",
              "attr": "user",
              "title": {
                "en": "Recipient",
                "de": "Empfänger"
              },
              "width": 170,
              "placeholder": "+491726361044 / Thomas",
              "disabled": "data.adapter === 'pushover'",
              "hidden": false
            },
            {
              "type": "text",
              "attr": "label",
              "title": {
                "en": "Label",
                "de": "Name"
              },
              "width": 200,
              "placeholder": "Privat / Familie"
            },
            {
              "type": "sendTo",
              "attr": "_test",
              "title": {
                "en": "Test",
                "de": "Test"
              },
              "width": 90,
              "variant": "contained",
              "icon": "send",
              "command": "testChannel",
              "jsonData": "{\"adapter\":\"${data.adapter}\",\"instanceNr\":\"${data.instanceNr}\",\"user\":\"${data.user}\",\"label\":\"${data.label}\"}"
            }
          ],
          "addRow": true,
          "deleteRow": true,
          "compact": true
        }
      }
    }
  }
}
