{
  "i18n": true,
  "type": "tabs",
  "items": {
    "main": {
      "type": "panel",
      "label": {
        "de": "Stationen",
        "en": "Stations"
      },
      "items": {
        "interval": {
          "type": "number",
          "label": {
            "en": "Polling interval (minutes)",
            "de": "Polling-Intervall (Minuten)"
          },
          "min": 1,
          "max": 1440,
          "default": 5
        },
        "stations": {
          "type": "table",
          "label": {
            "en": "Stations",
            "de": "Stationen"
          },
          "items": [
            {
              "type": "checkbox",
              "attr": "enabled",
              "title": {
                "en": "Enabled",
                "de": "Aktiv"
              },
              "width": 70,
              "default": true
            },
            {
              "type": "checkbox",
              "attr": "notifyOnAvailable",
              "title": {
                "en": "Notify",
                "de": "Notify"
              },
              "width": 70,
              "default": false
            },
            {
              "type": "text",
              "attr": "name",
              "title": {
                "en": "Name",
                "de": "Name"
              },
              "width": 240
            },
            {
              "type": "number",
              "attr": "deviceId1",
              "title": {
                "en": "Device ID (P1)",
                "de": "Device ID (P1)"
              },
              "width": 160
            },
            {
              "type": "number",
              "attr": "deviceId2",
              "title": {
                "en": "Device ID (P2, optional)",
                "de": "Device ID (P2, optional)"
              },
              "width": 180
            },
            {
              "type": "sendTo",
              "attr": "_test",
              "title": {
                "en": "Test",
                "de": "Test"
              },
              "width": 80,
              "variant": "outlined",
              "icon": "send",
              "command": "testStation",
              "jsonData": "{\"name\":\"${data.name}\",\"deviceId1\":\"${data.deviceId1}\",\"deviceId2\":\"${data.deviceId2}\"}"
            }
          ],
          "addRow": true,
          "deleteRow": true
        }
      }
    },
    "communication": {
      "type": "panel",
      "label": {
        "de": "Kommunikation",
        "en": "Communication"
      },
      "items": {
        "channels": {
          "type": "table",
          "label": {
            "de": "Kan채le",
            "en": "Channels"
          },
          "items": [
            {
              "type": "checkbox",
              "attr": "enabled",
              "title": {
                "de": "Aktiv",
                "en": "Enabled"
              },
              "default": true,
              "width": 80
            },
            {
              "type": "select",
              "attr": "instance",
              "title": {
                "de": "Instanz",
                "en": "Instance"
              },
              "options": [
                {
                  "label": "telegram.0",
                  "value": "telegram.0"
                },
                {
                  "label": "whatsapp-cmb.0",
                  "value": "whatsapp-cmb.0"
                },{ "label": "open-wa.0", "value": "open-wa.0" },
                {
                  "label": "pushover.0",
                  "value": "pushover.0"
                }
              ],
              "width": 160
            },
            {
              "type": "text",
              "attr": "user",
              "title": {
                "de": "Empf채nger",
                "en": "Recipient"
              },
              "width": 180
            },
            {
              "type": "text",
              "attr": "label",
              "title": {
                "de": "Name",
                "en": "Name"
              },
              "width": 140
            },
            {
              "type": "sendTo",
              "command": "testChannel",
              "icon": "send",
              "variant": "outlined",
              "width": 80,
              "tooltip": {
                "de": "Test senden",
                "en": "Send test"
              },
              "data": {
                "instance": "${data.instance}",
                "user": "${data.user}",
                "label": "${data.label}"
              }
            }
          ]
        }
      }
    },
    "subscriptions": {
      "type": "panel",
      "label": {
        "de": "Abos",
        "en": "Subscriptions"
      },
      "items": {
        "subscriptions": {
          "type": "table",
          "label": {
            "de": "Benachrichtigungs-Abos",
            "en": "Notification subscriptions"
          },
          "items": [
            {
              "type": "checkbox",
              "attr": "enabled",
              "title": {
                "de": "Aktiv",
                "en": "Enabled"
              },
              "default": true,
              "width": 80
            },
            {
              "type": "selectSendTo",
              "attr": "station",
              "title": {
                "de": "Station",
                "en": "Station"
              },
              "command": "getStations",
              "manual": false,
              "width": 260
            },
            {
              "type": "selectSendTo",
              "attr": "recipient",
              "title": {
                "de": "Empf채nger",
                "en": "Recipient"
              },
              "command": "getRecipients",
              "manual": false,
              "width": 200
            }
          ]
        }
      }
    },
    "car": {
      "type": "panel",
      "label": {
        "de": "Auto",
        "en": "Car"
      },
      "items": {
        "carLatStateId": {
          "type": "text",
          "label": {
            "de": "State-ID Latitude (extern)",
            "en": "Latitude state id (foreign)"
          },
          "help": {
            "de": "Optional: Datenpunkt mit Latitude deines Autos (z. B. aus Home Assistant / Tesla / etc.).",
            "en": "Optional: data point containing your car latitude."
          }
        },
        "carLonStateId": {
          "type": "text",
          "label": {
            "de": "State-ID Longitude (extern)",
            "en": "Longitude state id (foreign)"
          },
          "help": {
            "de": "Optional: Datenpunkt mit Longitude deines Autos.",
            "en": "Optional: data point containing your car longitude."
          }
        },
        "carSocStateId": {
          "type": "text",
          "label": {
            "de": "State-ID Ladestand (SoC %) (extern)",
            "en": "SoC state id (percent) (foreign)"
          },
          "help": {
            "de": "Optional: Datenpunkt mit Ladestand in Prozent (z. B. 23.5). Wird f체r Benachrichtigungs-Filter genutzt.",
            "en": "Optional: data point containing state of charge in percent. Used for notification filters."
          }
        },
        "carLat": {
          "type": "number",
          "label": {
            "de": "Latitude (statisch)",
            "en": "Latitude (static)"
          },
          "help": {
            "de": "Optional: Feste Latitude. Wird als initialer Wert genutzt, wenn gesetzt.",
            "en": "Optional: Static latitude. Used as initial value if set."
          }
        },
        "carLon": {
          "type": "number",
          "label": {
            "de": "Longitude (statisch)",
            "en": "Longitude (static)"
          },
          "help": {
            "de": "Optional: Feste Longitude. Wird als initialer Wert genutzt, wenn gesetzt.",
            "en": "Optional: Static longitude. Used as initial value if set."
          }
        },
        "notifySocBelow": {
          "type": "number",
          "min": 0,
          "max": 100,
          "default": 30,
          "label": {
            "de": "Notify nur bei SoC < (%)",
            "en": "Notify only if SoC < (%)"
          },
          "help": {
            "de": "Benachrichtigung wird nur gesendet, wenn der Auto-Ladestand (SoC) unter diesem Wert liegt.",
            "en": "Notification is sent only if car SoC is below this value."
          }
        },
        "notifyMaxDistanceM": {
          "type": "number",
          "min": 0,
          "default": 500,
          "label": {
            "de": "Notify nur bei Distanz <= (m)",
            "en": "Notify only if distance <= (m)"
          },
          "help": {
            "de": "Benachrichtigung wird nur gesendet, wenn die Distanz zur Station <= diesem Wert ist (Auto-Lat/Lon muss vorhanden sein).",
            "en": "Notification is sent only if distance to the station is <= this value (car lat/lon required)."
          }
        },
        "notifyCooldownMin": {
          "type": "number",
          "min": 0,
          "default": 15,
          "label": {
            "de": "Notify Cooldown (Minuten)",
            "en": "Notify cooldown (minutes)"
          },
          "help": {
            "de": "Mindestabstand zwischen zwei Benachrichtigungen pro Station. 0 = kein Cooldown.",
            "en": "Minimum time between notifications per station. 0 = no cooldown."
          }
        }
      }
    }
  }
}